<nav class="header">
  <div class="container-fluid">
    <div class="d-flex justify-content-end p-2">
      <% if user_signed_in? %>
        <div class="dropdown">
          <a class="btn btn-outline-secondary" href="#" role="button" data-bs-toggle="dropdown">
            <%= current_user.email %>
          </a>

          <ul class="dropdown-menu dropdown-menu-end">
            <li><%= link_to "Change Password", edit_user_registration_path, class: "dropdown-item" %></li>
            <li><%= link_to "Logout", destroy_user_session_path, data: { turbo_method: :delete }, class: "dropdown-item" %></li>
            <li><hr class="dropdown-divider"></li>
            <li><%= link_to "Delete Account", registration_path(current_user), method: :delete, data: { confirm: "Are you sure?" }, class: "dropdown-item text-danger" %></li>
          </ul>
        </div>
      <% end %>
    </div>
  </div>
</nav>
